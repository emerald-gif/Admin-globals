<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0"/>
  <title>Admin Dashboard - 2025 Fintech UI</title>
  <script src="https://www.gstatic.com/firebasejs/8.10.1/firebase-app.js"></script>
  <script src="https://www.gstatic.com/firebasejs/8.10.1/firebase-auth.js"></script>
  <script src="https://www.gstatic.com/firebasejs/8.10.1/firebase-firestore.js"></script>
  <script src="https://unpkg.com/lucide@latest"></script>
  <link href="https://cdn.jsdelivr.net/npm/tailwindcss@2.2.19/dist/tailwind.min.css" rel="stylesheet">
<script type="text/javascript" src="https://cdn.jsdelivr.net/npm/emailjs-com@3/dist/email.min.js"></script>
  
 


  <style>
    .dashboard-card {
      @apply bg-white rounded-2xl shadow-lg p-6 border border-gray-100;
    }
  </style>
</head>
<body class="bg-gray-50 text-gray-800 font-sans">

  <div class="min-h-screen flex">
    <!-- Sidebar -->
    <aside class="w-64 bg-white shadow-xl rounded-r-3xl p-5">
      <div class="text-2xl font-bold text-blue-700 mb-6">Globals Admin</div>
      <nav class="space-y-4">
        <button class="flex items-center w-full gap-3 text-left text-gray-700 hover:text-blue-700" onclick="switchTab('overview')">
          <i data-lucide="bar-chart-3" class="w-5 h-5"></i> Overview
        </button>
        <button class="flex items-center w-full gap-3 text-left text-gray-700 hover:text-blue-700" onclick="switchTab('users')">
          <i data-lucide="users" class="w-5 h-5"></i> Users
        </button>
        <button class="flex items-center w-full gap-3 text-left text-gray-700 hover:text-blue-700" onclick="switchTab('adminReviewJobsSection')">
          <i data-lucide="clipboard-list" class="w-5 h-5"></i> Affiliate/Tasks Jobs
        </button>
        <button class="flex items-center w-full gap-3 text-left text-gray-700 hover:text-blue-700" onclick="switchTab('taskSubmissionsTab')">
          <i data-lucide="file-check" class="w-5 h-5"></i> Task Submissions
        </button>

        <button class="flex items-center w-full gap-3 text-left text-gray-700 hover:text-blue-700" onclick="switchTab('adminPostJob')">
          <i data-lucide="file-check" class="w-5 h-5"></i> Post Admin Job
        </button>

        <button class="flex items-center w-full gap-3 text-left text-gray-700 hover:text-blue-700" onclick="switchTab('withdrawals-panel')">
          <i data-lucide="banknote" class="w-5 h-5"></i> WITHDRAWAL RECORD
        </button>


        <button class="flex items-center w-full gap-3 text-left text-gray-700 hover:text-blue-700" onclick="switchTab('deposits-panel')">
          <i data-lucide="banknote" class="w-5 h-5"></i> DEPOSIT RECORD
        </button>

        <button class="flex items-center w-full gap-3 text-left text-gray-700 hover:text-blue-700" onclick="switchTab('adminNotificationSender')">
          <i data-lucide="banknote" class="w-5 h-5"></i> Notification
        </button>

        <button class="flex items-center w-full gap-3 text-left text-gray-700 hover:text-blue-700" onclick="switchTab('social-tasks-admin')">
          <i data-lucide="banknote" class="w-5 h-5"></i> Social Tasks
        </button>


        <button class="flex items-center w-full gap-3 text-left text-gray-700 hover:text-blue-700" 
        onclick="switchTab('bills-admin')">
  <i data-lucide="smartphone" class="w-5 h-5"></i> Airtime & Data
</button>

        
        <button class="flex items-center w-full gap-3 text-left text-gray-700 hover:text-blue-700" onclick="switchTab('admin-referrals')">
          <i data-lucide="banknote" class="w-5 h-5"></i> Referral stat
        </button>





       <button class="flex items-center w-full gap-3 text-left text-gray-700 hover:text-blue-700" onclick="switchTab('admin-checkin-screen')">
          <i data-lucide="banknote" class="w-5 h-5"></i>  admin-checkin
        </button> 




        <button class="flex items-center w-full gap-3 text-left text-gray-700 hover:text-blue-700" onclick="switchTab('admin-premium')">
          <i data-lucide="banknote" class="w-5 h-5"></i>  Premium overview
        </button> 



      </nav>
    </aside>









    
    <!-- Content Area -->
    <main class="flex-1 p-6 overflow-y-auto">
      <!-- Overview -->
      <section id="overview" class="tab">
        <h2 class="text-2xl font-bold mb-6">Overview</h2>
        <div class="grid grid-cols-1 md:grid-cols-3 gap-6">
          <div class="dashboard-card">
            <p class="text-sm text-gray-500">Total Users</p>
            <p class="text-3xl font-semibold text-blue-600" id="user-count">Loading...</p>
          </div>
          <div class="dashboard-card">
            <p class="text-sm text-gray-500">Tasks Submitted</p>
            <p class="text-3xl font-semibold text-purple-600" id="task-count">Loading...</p>
          </div>
          <div class="dashboard-card">
            <p class="text-sm text-gray-500">Total Withdrawals</p>
            <p class="text-3xl font-semibold text-green-600" id="withdrawal-count">Loading...</p>
          </div>
        </div>
      </section>










      
      <!-- Users -->
      <section id="users" class="tab hidden mt-6">
  <h2 class="text-2xl font-bold mb-6">Users Dashboard</h2>

  <!-- Stats Row -->
  <div id="user-stats" class="grid grid-cols-2 md:grid-cols-4 gap-4 mb-6">
    <div class="bg-white p-4 rounded-2xl shadow flex flex-col items-center">
      <div class="text-lg font-bold" id="total-users">0</div>
      <div class="text-gray-500 text-sm">Total Users</div>
    </div>
    <div class="bg-white p-4 rounded-2xl shadow flex flex-col items-center">
      <div class="text-lg font-bold text-purple-600" id="premium-users">0</div>
      <div class="text-gray-500 text-sm">Premium Users</div>
    </div>
    <div class="bg-white p-4 rounded-2xl shadow flex flex-col items-center">
      <div class="text-lg font-bold text-blue-600" id="joined-today">0</div>
      <div class="text-gray-500 text-sm">Joined Today</div>
    </div>
    <div class="bg-white p-4 rounded-2xl shadow flex flex-col items-center">
      <div class="text-lg font-bold text-green-600" id="joined-week">0</div>
      <div class="text-gray-500 text-sm">Last 7 Days</div>
    </div>
  </div>

  <!-- Search + Filter Row -->
  <div class="flex flex-col md:flex-row justify-between items-center mb-6 gap-4">
    <!-- Google-style Search -->
    <div class="relative flex-1 w-full max-w-lg">
      <input id="user-search" type="text" placeholder="Search by username, email, UID, or full name..."
        class="w-full pl-10 pr-4 py-2 rounded-full border border-gray-300 shadow-sm focus:ring-2 focus:ring-blue-500 focus:outline-none transition" />
      <svg class="w-5 h-5 text-gray-400 absolute left-3 top-2.5" fill="none" stroke="currentColor" viewBox="0 0 24 24">
        <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2"
          d="M21 21l-4.35-4.35m0 0A7.5 7.5 0 1110.5 3a7.5 7.5 0 016.15 13.65z" />
      </svg>
    </div>

    <!-- Time Filter -->
    <select id="time-filter"
      class="p-2 rounded-lg border shadow focus:ring-2 focus:ring-blue-500">
      <option value="all">All Time</option>
      <option value="today">Today</option>
      <option value="yesterday">Yesterday</option>
      <option value="7days">Last 7 Days</option>
      <option value="30days">Last 30 Days</option>
      <option value="month">This Month</option>
    </select>
  </div>

  <!-- User List -->
  <div id="user-list" class="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4"></div>
</section>

      
      
      
      
      
      <section id="adminReviewJobsSection" class="tab mt-6">
  <h2 class="text-2xl font-bold mb-4 text-gray-800">Pending Job Approvals</h2>

  <!-- Tabs -->
  <div class="flex gap-2 mb-4">
    <button id="tabAll" class="px-4 py-2 rounded-xl bg-gray-100">All</button>
    <button id="tabTasks" class="px-4 py-2 rounded-xl">Tasks</button>
    <button id="tabAffiliates" class="px-4 py-2 rounded-xl">Affiliates</button>
  </div>

  <!-- For each tab we show two panels: Pending and History -->
  <div id="tabContent" class="space-y-6">

    <!-- ALL (keeps original combined view using your fetchPendingJobsForAdmin) -->
    <div id="panelAll" class="">
      <div id="adminPendingJobs" class="grid sm:grid-cols-2 lg:grid-cols-3 gap-4"></div>
    </div>

    <!-- TASKS specific -->
    <div id="panelTasks" class="hidden">
      <div class="flex items-center justify-between">
        <h3 class="font-semibold text-lg">Tasks</h3>
        <div class="space-x-2">
          <button id="refreshTasksBtn" class="px-3 py-1 rounded bg-gray-100 text-sm">Refresh</button>
        </div>
      </div>

      <div class="grid grid-cols-1 lg:grid-cols-2 gap-6 mt-3">
        <div>
          <h4 class="text-sm font-medium mb-2">Pending</h4>
          <div id="tasksPending" class="space-y-4"></div>
        </div>

        <div>
          <h4 class="text-sm font-medium mb-2">History (Approved / Rejected)</h4>
          <div id="tasksHistory" class="space-y-4"></div>
        </div>
      </div>
    </div>

    <!-- AFFILIATES specific -->
    <div id="panelAffiliates" class="hidden">
      <div class="flex items-center justify-between">
        <h3 class="font-semibold text-lg">Affiliate Campaigns</h3>
        <div class="space-x-2">
          <button id="refreshAffiliatesBtn" class="px-3 py-1 rounded bg-gray-100 text-sm">Refresh</button>
        </div>
      </div>

      <div class="grid grid-cols-1 lg:grid-cols-2 gap-6 mt-3">
        <div>
          <h4 class="text-sm font-medium mb-2">Pending</h4>
          <div id="affiliatesPending" class="space-y-4"></div>
        </div>

        <div>
          <h4 class="text-sm font-medium mb-2">History (Approved / Rejected)</h4>
          <div id="affiliatesHistory" class="space-y-4"></div>
        </div>
      </div>
    </div>

  </div>
</section>

<!-- Job Details Modal (shared) -->
<div id="jobDetailsModal" class="hidden fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50">
  <div class="bg-white w-full max-w-2xl rounded-2xl shadow-2xl p-6 relative">
    <button onclick="closeJobModal()" class="absolute top-3 right-3 text-gray-500 hover:text-red-500 text-xl">&times;</button>

    <div id="jobDetailsHeader" class="flex items-center gap-3 mb-4">
      <img id="posterPhoto" src="" alt="" class="w-12 h-12 rounded-full object-cover hidden">
      <div>
        <h3 id="jobDetailsTitle" class="text-xl font-semibold text-gray-800"></h3>
        <p id="jobDetailsMeta" class="text-sm text-gray-500"></p>
      </div>
    </div>

    <div id="jobDetailsContent" class="space-y-3 text-sm text-gray-700 max-h-72 overflow-auto"></div>

    <div class="mt-6 flex justify-end gap-3">
      <button id="approveBtnModal" class="bg-green-600 hover:bg-green-700 text-white px-4 py-2 rounded-lg">Approve</button>
      <button id="rejectBtnModal" class="bg-red-600 hover:bg-red-700 text-white px-4 py-2 rounded-lg">Reject</button>
    </div>
  </div>
</div>



      

      
      <!-- Task Submissions -->
      <section id="taskSubmissionsTab" class="tab hidden mt-6">
        <h2 class="text-2xl font-bold mb-4">Task Submissions</h2>
        <div id="task-submissions-list" class="space-y-4"></div>
      </section>

      <!-- Review Section -->
      <section id="review-section" class="hidden mt-6">
        <button onclick="backToSubmissions()" class="mb-4 text-blue-600 hover:underline">← Back to Submissions</button>
        <div id="review-content" class="bg-white p-6 rounded-2xl shadow-xl"></div>
      </section>









<!-- ===== DEPOSITS SECTION ===== -->
<section id="deposits-panel" class="mt-8 bg-white p-6 rounded-2xl shadow">
  <div class="flex items-center justify-between mb-4">
    <h3 class="text-lg font-semibold">Deposit Records</h3>
  </div>

  <div class="grid grid-cols-3 gap-4 mb-4">
    <div class="bg-gray-50 p-4 rounded-lg">
      <div class="text-xs text-gray-500">Deposits Today</div>
      <div id="p-deposits-today" class="text-2xl font-bold">0</div>
    </div>
    <div class="bg-gray-50 p-4 rounded-lg">
      <div class="text-xs text-gray-500">Deposits Yesterday</div>
      <div id="p-deposits-yesterday" class="text-2xl font-bold">0</div>
    </div>
    <div class="bg-gray-50 p-4 rounded-lg">
      <div class="text-xs text-gray-500">Total Deposits</div>
      <div id="p-deposits-total" class="text-2xl font-bold">0</div>
    </div>
  </div>

  <div class="bg-white p-4 rounded-lg shadow">
    <h4 class="font-semibold mb-3">Recent Deposits</h4>
    <div class="overflow-x-auto">
      <table class="w-full text-sm">
        <thead class="text-xs text-gray-500">
          <tr>
            <th class="py-2 text-left">Username</th>
            <th class="text-left">User ID</th>
            <th class="text-left">Amount</th>
            <th class="text-left">Reference</th>
            <th class="text-left">Date</th>
            <th class="text-left">Status</th>
          </tr>
        </thead>
        <tbody id="p-deposits-tbody">
          <tr><td colspan="6" class="py-3 text-center text-gray-400 text-sm">Loading...</td></tr>
        </tbody>
      </table>
    </div>
  </div>
</section>
<!-- ===== END DEPOSITS SECTION ===== -->






<!-- ===== WITHDRAWALS SECTION ===== -->
<section id="withdrawals-panel" class="mt-8 bg-white p-6 rounded-2xl shadow">
  <div class="flex items-center justify-between mb-4">
    <h3 class="text-lg font-semibold">Withdrawals</h3>
    <div class="flex items-center gap-2">
      <label class="text-sm text-gray-500">Show</label>
      <select id="p-withdraw-filter" class="border px-2 py-1 rounded text-sm">
        <option value="processing">Processing</option>
        <option value="completed">Completed</option>
        <option value="all">All</option>
      </select>
    </div>
  </div>

  <div class="grid grid-cols-3 gap-4 mb-4">
    <div class="bg-gray-50 p-4 rounded-lg">
      <div class="text-xs text-gray-500">Processing</div>
      <div id="p-withdraw-processing" class="text-2xl font-bold">0</div>
    </div>
    <div class="bg-gray-50 p-4 rounded-lg">
      <div class="text-xs text-gray-500">Successful</div>
      <div id="p-withdraw-success" class="text-2xl font-bold">0</div>
    </div>
    <div class="bg-gray-50 p-4 rounded-lg">
      <div class="text-xs text-gray-500">Rejected</div>
      <div id="p-withdraw-rejected" class="text-2xl font-bold">0</div>
    </div>
  </div>

  <div class="bg-white p-4 rounded-lg shadow">
    <h4 class="font-semibold mb-3">Withdraw Requests</h4>
    <div class="overflow-x-auto">
      <table class="w-full text-sm">
        <thead class="text-xs text-gray-500">
          <tr>
            <th class="py-2 text-left">User ID</th>
            <th class="text-left">Account Name</th>
            <th class="text-left">Acc No</th>
            <th class="text-left">Bank</th>
            <th class="text-left">Amount</th>
            <th class="text-left">Date</th>
            <th class="text-left">Status</th>
            <th class="text-left">Action</th>
          </tr>
        </thead>
        <tbody id="p-withdraw-tbody">
          <tr><td colspan="8" class="py-3 text-center text-gray-400 text-sm">Loading...</td></tr>
        </tbody>
      </table>
    </div>
  </div>
</section>
<!-- ===== END WITHDRAWALS SECTION ===== -->


      



      

      <!-- ================== POST ADMIN JOB FORM ================== -->
<section id="adminPostJob" class="tab-section hidden p-4">
  <h2 class="text-xl font-bold mb-4">Post Admin Job</h2>

  <div class="space-y-4">
    <input id="adminJobCategory" type="text" placeholder="Category"
      class="w-full border rounded-lg p-2" />

    <input id="adminJobTitle" type="text" placeholder="Job Title"
      class="w-full border rounded-lg p-2" />

    <textarea id="adminJobInstructions" placeholder="Instructions"
      class="w-full border rounded-lg p-2"></textarea>

    <input id="adminJobTargetLink" type="url" placeholder="Target Link"
      class="w-full border rounded-lg p-2" />

    <input id="adminJobProofRequired" type="text" placeholder="Proof Required"
      class="w-full border rounded-lg p-2" />

    <input id="adminJobNumWorkers" type="number" placeholder="Number of Workers"
      class="w-full border rounded-lg p-2" />

    <input id="adminJobWorkerPay" type="number" placeholder="Pay per Worker (₦)"
      class="w-full border rounded-lg p-2" />

    <input id="adminJobProofFileCount" type="number" placeholder="Number of Proof Files" value="1"
      class="w-full border rounded-lg p-2" />

    <label class="block font-semibold">Campaign Logo</label>
    <input id="adminJobLogoFile" type="file" accept="image/*"
      class="w-full border rounded-lg p-2" />

    <button onclick="submitAdminJob()" class="bg-green-500 text-white px-4 py-2 rounded-lg">
      Post Job
    </button>
  </div>
</section>








<!-- ===== Social Tasks Admin (Modern, Searchable, Transaction-safe) ===== -->
<div id="social-tasks-admin" class="tab-section hidden p-6 bg-gradient-to-br from-gray-50 to-gray-100 min-h-screen">
  <!-- Header -->
  <div class="flex flex-col sm:flex-row sm:items-center sm:justify-between gap-4 mb-6">
    <h2 class="text-3xl font-extrabold text-gray-800 flex items-center gap-3">📋 Social Tasks Review</h2>

    <div class="flex gap-2 items-center">
      <button id="refreshBtn" class="px-4 py-2 rounded-lg bg-white shadow hover:bg-gray-50">🔄 Refresh</button>
    </div>
  </div>

  <!-- Quick Stats + Controls -->
  <div class="grid grid-cols-1 lg:grid-cols-3 gap-4 mb-6">
    <!-- Stats -->
    <div class="col-span-1 grid grid-cols-3 gap-3">
      <div class="stat-card bg-white p-4 rounded-2xl shadow flex flex-col items-center">
        <span class="text-gray-500 text-sm">⏳ Pending</span>
        <span id="pendingCount" class="text-2xl font-bold text-blue-600 mt-1">0</span>
      </div>
      <div class="stat-card bg-white p-4 rounded-2xl shadow flex flex-col items-center">
        <span class="text-gray-500 text-sm">✅ Approved</span>
        <span id="approvedCount" class="text-2xl font-bold text-green-600 mt-1">0</span>
      </div>
      <div class="stat-card bg-white p-4 rounded-2xl shadow flex flex-col items-center">
        <span class="text-gray-500 text-sm">❌ Rejected</span>
        <span id="rejectedCount" class="text-2xl font-bold text-red-600 mt-1">0</span>
      </div>
    </div>

    <!-- Primary controls: tabs + status filter -->
    <div class="col-span-1 bg-white rounded-2xl p-4 shadow flex flex-col gap-3">
      <div class="flex gap-2">
        <button onclick="setCollection('TiktokInstagram', this)" class="tab-btn active">TikTok / Instagram</button>
        <button onclick="setCollection('Whatsapp', this)" class="tab-btn">WhatsApp</button>
        <button onclick="setCollection('Telegram', this)" class="tab-btn">Telegram</button>
      </div>

      <div class="flex gap-2 mt-2">
        <button onclick="setStatusFilter('pending', this)" class="filter-btn active">⏳ Pending</button>
        <button onclick="setStatusFilter('approved', this)" class="filter-btn">✅ Approved</button>
        <button onclick="setStatusFilter('rejected', this)" class="filter-btn">❌ Rejected</button>
        <button onclick="setStatusFilter('all', this)" class="filter-btn">All</button>
      </div>
    </div>

    <!-- Search / Sort / Date -->
    <div class="col-span-1 bg-white rounded-2xl p-4 shadow flex flex-col gap-3">
      <input id="searchInput" type="search" placeholder="Search by user ID, username, link..." class="p-3 rounded-lg border" />
      <div class="flex gap-2">
        <select id="sortSelect" onchange="setSort(this.value)" class="p-2 rounded-lg border">
          <option value="newest">Newest</option>
          <option value="oldest">Oldest</option>
        </select>
        <input id="startDate" type="date" onchange="setDateRange()" class="p-2 rounded-lg border" />
        <input id="endDate" type="date" onchange="setDateRange()" class="p-2 rounded-lg border" />
      </div>
    </div>
  </div>

  <!-- Task Container -->
  <div id="tasksContainer" class="grid gap-6 md:grid-cols-2 lg:grid-cols-3"></div>

  <!-- Load more -->
  <div class="mt-6 text-center">
    <button id="loadMoreBtn" class="px-5 py-2 rounded-lg bg-white shadow hidden">Load more</button>
  </div>
</div>

<!-- Image modal -->
<div id="imageModal" class="hidden fixed inset-0 z-50 bg-black bg-opacity-70 flex items-center justify-center p-4">
  <div class="bg-white rounded-lg max-w-3xl w-full p-4">
    <img id="imageModalImg" src="" class="w-full h-auto rounded" />
    <div class="mt-3 text-right">
      <button onclick="closeImageModal()" class="px-4 py-2 rounded bg-gray-200">Close</button>
    </div>
  </div>
</div>

<!-- Confirm modal (Approve / Reject) -->
<div id="confirmModal" class="hidden fixed inset-0 z-60 bg-black bg-opacity-40 flex items-center justify-center p-4">
  <div class="bg-white rounded-lg w-full max-w-lg p-6">
    <h3 id="confirmTitle" class="text-lg font-bold mb-3">Confirm</h3>
    <p id="confirmText" class="text-sm text-gray-700 mb-4"></p>

    <div id="rejectReasonWrap" class="mb-4 hidden">
      <label class="block text-sm text-gray-600 mb-1">Reject Reason (optional)</label>
      <textarea id="rejectReason" class="w-full p-3 border rounded-lg" rows="3"></textarea>
    </div>

    <div class="flex gap-3 justify-end">
      <button onclick="closeConfirmModal()" class="px-4 py-2 rounded bg-gray-100">Cancel</button>
      <button id="confirmActionBtn" class="px-4 py-2 rounded bg-green-500 text-white">Confirm</button>
    </div>
  </div>
</div>

<style>
  /* small UI polish */
  .tab-btn, .filter-btn {
    padding: 8px 12px;
    border-radius: 10px;
    background: #f1f5f9;
    cursor: pointer;
    font-weight: 600;
    transition: all 0.15s ease;
  }
  .tab-btn:hover, .filter-btn:hover { transform: translateY(-2px); }
  .tab-btn.active, .filter-btn.active {
    background: #2563eb; color: #fff;
    box-shadow: 0 6px 18px rgba(37,99,235,0.16);
  }
  .task-card {
    border-radius: 12px;
    padding: 16px;
    background: white;
    border: 1px solid #e6eefb;
    box-shadow: 0 6px 18px rgba(2,6,23,0.03);
  }
  .task-badge { display:inline-block; padding:6px 10px; border-radius:999px; font-weight:700; font-size:12px; }
  .badge-pending { background: #fff7ed; color: #b45309; }
  .badge-approved { background:#ecfdf5; color:#15803d; }
  .badge-rejected { background:#fff1f2; color:#b91c1c; }
  .task-thumb { max-width:120px; border-radius:10px; margin-top:8px; border:1px solid #e6eefb; cursor:pointer; }
  .task-meta { font-size:13px; color:#374151; margin-bottom:6px; }
</style>


      













      


<!-- 📲 Airtime & Data Requests -->
<!-- ===== Airtime & Data Admin (2025 UI) ===== -->


<!-- 📲 Airtime & Data Requests -->
<!-- 📲 Airtime & Data Requests -->
<div id="bills-admin" class="tab-section hidden p-6 bg-gradient-to-br from-gray-50 via-white to-gray-50 min-h-screen">

  <!-- Header -->
  <div class="flex items-center justify-between mb-6">
    <h2 class="text-2xl font-extrabold text-gray-800 flex items-center gap-2">
      <span class="text-blue-600">📲</span> Airtime & Data Requests
    </h2>
  </div>

  <!-- Tabs: Airtime / Data -->
  <div class="flex gap-4 border-b mb-6">
    <button onclick="switchBillType('airtime')" id="tab-airtime"
      class="px-4 py-2 font-medium text-blue-600 border-b-2 border-blue-600">
      Airtime
    </button>
    <button onclick="switchBillType('data')" id="tab-data"
      class="px-4 py-2 font-medium text-gray-500 hover:text-blue-600">
      Data
    </button>
  </div>

  <!-- Subtabs: Pending / Successful / Failed -->
  <div class="flex gap-3 mb-6 bg-gray-100 p-1 rounded-full w-fit shadow-inner">
    <button onclick="switchBillStatus('pending')" id="subtab-pending"
      class="px-5 py-2 text-sm font-medium rounded-full bg-blue-600 text-white shadow-md transition">
      Pending
    </button>
    <button onclick="switchBillStatus('successful')" id="subtab-successful"
      class="px-5 py-2 text-sm font-medium rounded-full text-gray-600 hover:text-blue-600 transition">
      Successful
    </button>
    <button onclick="switchBillStatus('failed')" id="subtab-failed"
      class="px-5 py-2 text-sm font-medium rounded-full text-gray-600 hover:text-blue-600 transition">
      Failed
    </button>
  </div>

  <!-- Requests Grid -->
  <div id="billsContainer" class="grid gap-6 md:grid-cols-2 lg:grid-cols-3"></div>
</div>
      












      

<!-- ========================
 📊 Referral Dashboard Section
 ======================== -->

      

<section id="admin-referrals" class="tab-section hidden min-h-screen p-6 bg-gradient-to-br from-[#050d1b] via-[#071f2e] to-[#050d1b] text-white">
  <div class="flex items-center justify-between mb-6">
    <div>
      <h1 class="text-2xl font-extrabold bg-clip-text text-transparent bg-gradient-to-r from-blue-400 to-purple-500">Referral Admin Console</h1>
      <p class="text-sm text-slate-300 mt-1">Track referrers, pending credits, and manage referral payouts.</p>
    </div>

    <div class="flex items-center gap-3">
      <button id="ref-export-agg" class="px-4 py-2 rounded-xl bg-gradient-to-r from-indigo-500 to-pink-500 text-white shadow-md">Export Referrers CSV</button>
      <button id="ref-scan-all" class="px-3 py-2 rounded-xl bg-white/6 hover:bg-white/10">Recalculate (scan all)</button>
      <label class="flex items-center gap-2 px-3 py-2 rounded-xl bg-white/5">
        <input id="ref-realtime-toggle" type="checkbox" />
        <span class="text-sm text-slate-300">Realtime</span>
      </label>
    </div>
  </div>

  <!-- Summary -->
  <div class="grid grid-cols-1 sm:grid-cols-2 md:grid-cols-4 gap-4 mb-6">
    <div class="p-4 rounded-2xl bg-gradient-to-r from-blue-600/20 via-indigo-700/10 to-purple-600/20 border border-blue-500/10">
      <div class="text-sm text-slate-300">Total referred users</div>
      <div id="ref-total-referred" class="text-2xl font-bold mt-1">—</div>
    </div>
    <div class="p-4 rounded-2xl bg-gradient-to-r from-green-600/20 via-emerald-700/10 to-teal-600/20 border border-green-500/10">
      <div class="text-sm text-slate-300">Rewards awarded (₦)</div>
      <div id="ref-total-awarded" class="text-2xl font-bold mt-1">—</div>
    </div>
    <div class="p-4 rounded-2xl bg-gradient-to-r from-yellow-600/20 via-orange-700/10 to-red-600/20 border border-yellow-500/10">
      <div class="text-sm text-slate-300">Pending rewards (₦)</div>
      <div id="ref-total-pending" class="text-2xl font-bold mt-1">—</div>
    </div>
    <div class="p-4 rounded-2xl bg-gradient-to-r from-purple-600/20 via-pink-700/10 to-red-600/20 border border-purple-500/10">
      <div class="text-sm text-slate-300">Referrers (unique)</div>
      <div id="ref-total-referrers" class="text-2xl font-bold mt-1">—</div>
    </div>
  </div>

  <!-- Controls -->
  <div class="flex flex-col md:flex-row items-center justify-between gap-4 mb-6 bg-white/5 p-3 rounded-2xl">
    <div class="relative flex-1 max-w-xl w-full">
      <input id="ref-search" type="search" placeholder="Search by referrer username, displayName or UID"
             class="w-full pl-10 pr-4 py-2 rounded-full bg-transparent border border-white/10 placeholder:text-slate-400 focus:outline-none" />
      <svg class="w-5 h-5 text-slate-400 absolute left-3 top-2.5" fill="none" stroke="currentColor" viewBox="0 0 24 24">
        <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2"
              d="M21 21l-4.35-4.35m0 0A7.5 7.5 0 1110.5 3a7.5 7.5 0 016.15 13.65z" />
      </svg>
    </div>

    <div class="flex items-center gap-2">
      <select id="ref-time-filter" class="p-2 rounded-xl bg-white/5 border border-white/10">
        <option value="all">All time</option>
        <option value="today">Joined Today</option>
        <option value="yesterday">Joined Yesterday</option>
        <option value="7days">Last 7 days</option>
        <option value="30days">Last 30 days</option>
        <option value="month">This Month</option>
      </select>
      <button id="ref-refresh" class="px-4 py-2 rounded-xl bg-gradient-to-r from-blue-500 to-purple-600">Refresh</button>
    </div>
  </div>

  <!-- Top referrers -->
  <div class="mb-6">
    <h3 class="text-lg font-semibold mb-2">Top referrers</h3>
    <div id="ref-top-list" class="grid grid-cols-1 md:grid-cols-3 gap-3"></div>
  </div>

  <!-- Referrers table -->
  <div class="bg-white/5 p-4 rounded-2xl shadow-lg overflow-auto">
    <table class="min-w-full text-sm">
      <thead>
        <tr class="text-slate-300 text-left">
          <th class="px-3 py-2">Referrer</th>
          <th class="px-3 py-2">Name / Email</th>
          <th class="px-3 py-2">Total Referred</th>
          <th class="px-3 py-2">Awarded</th>
          <th class="px-3 py-2">Pending</th>
          <th class="px-3 py-2">Total Rewards (₦)</th>
          <th class="px-3 py-2">Actions</th>
        </tr>
      </thead>
      <tbody id="ref-table-body" class="divide-y divide-white/6"></tbody>
    </table>
  </div>
</section>

<!-- Referrer details modal -->
<div id="ref-modal" class="fixed inset-0 z-50 hidden items-center justify-center">
  <div class="absolute inset-0 bg-black/60" onclick="document.getElementById('ref-modal').classList.add('hidden')"></div>
  <div class="relative max-w-4xl w-full bg-[#071228] rounded-2xl p-6 z-10 text-white shadow-xl border border-purple-500/20">
    <div class="flex items-center justify-between mb-4">
      <h3 id="ref-modal-title" class="font-bold">Referrer details</h3>
      <button id="ref-modal-close" class="px-3 py-1 rounded-lg bg-white/6">Close</button>
    </div>
    <div id="ref-modal-content" class="space-y-3 max-h-[60vh] overflow-auto"></div>
  </div>
</div>

    



<style>
/* Admin Referrals Dashboard flashy theme */

#admin-referrals {
  background: linear-gradient(135deg, #050d1b 0%, #071f2e 50%, #050d1b 100%);
  color: #dbeeff;
}

/* Headings */
#admin-referrals h1 {
  -webkit-background-clip: text;
  background-clip: text;
  font-weight: 800;
  color: transparent;
}
#admin-referrals h1::after {
  content: "";
  display: block;
  height: 3px;
  margin-top: .5rem;
  border-radius: 6px;
  background: linear-gradient(90deg, #60a5fa, #a78bfa, #ec4899);
  opacity: .9;
}
#admin-referrals p,
#admin-referrals .text-slate-300 {
  color: #cdefff !important;
}

/* Buttons */
#ref-export-agg {
  background: linear-gradient(90deg, #6366f1, #ec4899);
  font-weight: 700;
  transition: transform .2s, box-shadow .2s;
}
#ref-export-agg:hover {
  transform: translateY(-3px);
  box-shadow: 0 12px 30px rgba(236,72,153,.25);
}
#ref-scan-all {
  background: rgba(255,255,255,0.05);
  border: 1px solid rgba(255,255,255,.08);
  color: #e5e7eb;
}
#ref-scan-all:hover { background: rgba(255,255,255,0.1); }
#ref-refresh {
  background: linear-gradient(90deg, #3b82f6, #9333ea);
  color: #fff;
  font-weight: 600;
  transition: transform .2s, box-shadow .2s;
}
#ref-refresh:hover {
  transform: translateY(-2px);
  box-shadow: 0 8px 20px rgba(147,51,234,.3);
}

/* Label Realtime */
#admin-referrals label {
  background: rgba(255,255,255,0.05);
  border: 1px solid rgba(255,255,255,.08);
  border-radius: 12px;
  color: #dbeeff;
}

/* Summary cards */
#admin-referrals .grid > div {
  border-radius: 1rem;
  padding: 1rem;
  backdrop-filter: blur(4px);
  transition: transform .2s, box-shadow .2s;
}
#admin-referrals .grid > div:hover {
  transform: translateY(-4px);
  box-shadow: 0 12px 40px rgba(0,0,0,0.45);
}
#admin-referrals .grid > div .text-2xl {
  color: #fff;
  font-weight: 700;
  text-shadow: 0 4px 20px rgba(0,0,0,.35);
}

/* Controls */
#ref-search {
  color: #e6f7ff;
  border: 1px solid rgba(255,255,255,0.08);
}
#ref-search::placeholder { color: rgba(206,230,255,0.55); }
#ref-search:focus {
  border-color: #60a5fa;
  box-shadow: 0 0 0 2px rgba(96,165,250,.3);
}
#ref-time-filter {
  background: rgba(255,255,255,0.05);
  border: 1px solid rgba(255,255,255,.08);
  color: #e6f7ff;
}
#ref-time-filter:focus {
  border-color: #9333ea;
  box-shadow: 0 0 0 2px rgba(147,51,234,.3);
}

/* Top referrers */
#admin-referrals h3 {
  color: #fff;
  font-weight: 700;
  background: linear-gradient(90deg,#60a5fa,#a78bfa);
  -webkit-background-clip: text;
  background-clip: text;
  color: transparent;
}

/* Tables */
#admin-referrals table {
  color: #dbeeff;
  width: 100%;
  border-collapse: collapse;
}
#admin-referrals thead tr th {
  color: #cdefff;
  font-weight: 600;
  padding: .75rem .6rem;
  border-bottom: 1px solid rgba(255,255,255,.08);
}
#admin-referrals tbody tr td {
  padding: .8rem .6rem;
}
#admin-referrals tbody tr:nth-child(odd) {
  background: rgba(255,255,255,0.02);
}
#admin-referrals tbody tr:hover {
  background: linear-gradient(90deg,rgba(96,165,250,.08),rgba(147,51,234,.08));
}

/* Modal */
#ref-modal .relative {
  background: linear-gradient(180deg, rgba(7,18,40,.95), rgba(6,22,40,.97));
  border: 1px solid rgba(167,139,250,.2);
  box-shadow: 0 20px 60px rgba(0,0,0,.6);
}
#ref-modal button {
  background: rgba(255,255,255,.08);
  color: #e6f7ff;
  border-radius: 8px;
  padding: .4rem .7rem;
}
</style>






      
<!-- Admin Premium overview-->
      
<section id="admin-premium" class="tab-section hidden min-h-screen p-6 bg-gradient-to-br from-[#050d1b] via-[#071f2e] to-[#050d1b] text-white">
  <div class="flex items-center justify-between mb-6">
    <div>
      <h1 class="text-2xl font-extrabold bg-clip-text text-transparent bg-gradient-to-r from-blue-400 to-purple-500">Premium Admin Console</h1>
      <p class="text-sm text-slate-300 mt-1">Track premium upgrades, revenue, and manage premium access.</p>
    </div>

    <div class="flex items-center gap-3">
      <button id="premium-export-users" class="px-4 py-2 rounded-xl bg-gradient-to-r from-indigo-500 to-pink-500 text-white shadow-md">Export Users CSV</button>
      <button id="premium-export-events" class="px-4 py-2 rounded-xl bg-white/6 text-white">Export Events</button>
      <button id="premium-scan-all" class="px-3 py-2 rounded-xl bg-white/6 hover:bg-white/10">Recalculate (scan all)</button>
      <label class="flex items-center gap-2 px-3 py-2 rounded-xl bg-white/5">
        <input id="premium-realtime-toggle" type="checkbox" />
        <span class="text-sm text-slate-300">Realtime</span>
      </label>
    </div>
  </div>

  <!-- Summary -->
  <div class="grid grid-cols-1 sm:grid-cols-2 md:grid-cols-4 gap-4 mb-6">
    <div class="p-4 rounded-2xl bg-white/6 backdrop-blur-md border border-white/6">
      <div class="text-sm text-slate-300">Total Users</div>
      <div id="pm-total-users" class="text-2xl font-bold mt-1">—</div>
    </div>

    <div class="p-4 rounded-2xl bg-gradient-to-r from-purple-600/20 to-pink-600/10 border border-purple-500/10">
      <div class="text-sm text-slate-300">Premium Users</div>
      <div id="pm-total-premium" class="text-2xl font-bold mt-1">—</div>
    </div>

    <div class="p-4 rounded-2xl bg-white/6 backdrop-blur-md border border-white/6">
      <div class="text-sm text-slate-300">Upgrades Today</div>
      <div id="pm-upgrades-today" class="text-2xl font-bold mt-1">—</div>
    </div>

    <div class="p-4 rounded-2xl bg-white/6 backdrop-blur-md border border-white/6">
      <div class="text-sm text-slate-300">Revenue (₦)</div>
      <div id="pm-revenue" class="text-2xl font-bold mt-1">—</div>
    </div>
  </div>

  <!-- Controls -->
  <div class="flex flex-col md:flex-row items-center justify-between gap-4 mb-6 bg-white/5 p-3 rounded-2xl">
    <div class="relative flex-1 max-w-xl w-full">
      <input id="pm-search" type="search" placeholder="Search by UID, username, full name, or email..."
             class="w-full pl-10 pr-4 py-2 rounded-full bg-transparent border border-white/10 placeholder:text-slate-400 focus:outline-none" />
      <svg class="w-5 h-5 text-slate-400 absolute left-3 top-2.5" fill="none" stroke="currentColor" viewBox="0 0 24 24">
        <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2"
              d="M21 21l-4.35-4.35m0 0A7.5 7.5 0 1110.5 3a7.5 7.5 0 016.15 13.65z" />
      </svg>
    </div>

    <div class="flex items-center gap-2">
      <select id="pm-time-filter" class="p-2 rounded-xl bg-white/5 border border-white/10">
        <option value="all">All time</option>
        <option value="today">Joined Today</option>
        <option value="yesterday">Joined Yesterday</option>
        <option value="7days">Last 7 days</option>
        <option value="30days">Last 30 days</option>
        <option value="month">This Month</option>
      </select>

      <button id="pm-refresh" class="px-4 py-2 rounded-xl bg-gradient-to-r from-blue-500 to-purple-600">Refresh</button>
    </div>
  </div>

  <!-- Users table -->
  <div class="bg-white/5 p-4 rounded-2xl shadow-lg overflow-auto">
    <table class="min-w-full text-sm">
      <thead>
        <tr class="text-slate-300 text-left">
          <th class="px-3 py-2">UID</th>
          <th class="px-3 py-2">Name / Email</th>
          <th class="px-3 py-2">Premium</th>
          <th class="px-3 py-2">Joined</th>
          <th class="px-3 py-2">Balance</th>
          <th class="px-3 py-2">Upgraded At</th>
          <th class="px-3 py-2">Actions</th>
        </tr>
      </thead>
      <tbody id="pm-table-body" class="divide-y divide-white/6"></tbody>
    </table>
  </div>
</section>

<!-- Premium Events Modal -->
<div id="pm-modal" class="fixed inset-0 z-50 hidden items-center justify-center">
  <div class="absolute inset-0 bg-black/60" onclick="document.getElementById('pm-modal').classList.add('hidden')"></div>
  <div class="relative max-w-3xl w-full bg-[#071228] rounded-2xl p-6 z-10 text-white shadow-xl border border-purple-500/20">
    <div class="flex items-center justify-between mb-4">
      <h3 id="pm-modal-title" class="font-bold">Premium Events</h3>
      <button id="pm-modal-close" class="px-3 py-1 rounded-lg bg-white/6">Close</button>
    </div>
    <div id="pm-modal-content" class="space-y-3 max-h-[60vh] overflow-auto"></div>
  </div>
</div>





<!-- Paste this after your Tailwind CSS (bottom of file or before </body>) -->
<style>
/* ===== Premium Admin — Flashy Theme (visual only, no JS changes) ===== */

:root{
  --accent-blue: #60a5fa;
  --accent-purple: #a78bfa;
  --accent-pink: #ec4899;
  --accent-gold: #f59e0b;
  --muted: #e8f6ff;
  --glass: rgba(255,255,255,0.03);
  --card-border: rgba(167,139,250,0.10);
}

/* Base background + text */
#admin-premium {
  color: var(--muted);
  background: linear-gradient(135deg, #050d1b 0%, #071f2e 48%, #050d1b 100%);
}

/* Headline style */
#admin-premium h1{
  -webkit-background-clip: text;
  background-clip: text;
  color: transparent;
  font-weight: 800;
  text-shadow: 0 8px 30px rgba(99,102,241,0.06);
}
#admin-premium h1::after{
  content: "";
  display:block;
  margin-top:0.5rem;
  height:4px;
  width:100%;
  border-radius:8px;
  background: linear-gradient(90deg, var(--accent-blue), var(--accent-purple), var(--accent-pink));
  opacity: 0.95;
  transform-origin:left;
  transition: transform .35s ease;
}

/* Short description and small text */
#admin-premium p, #admin-premium .text-slate-300, 
#admin-premium .text-sm { color: #cfeeff !important; }

/* Override pale "bg-white/X" utilities used in markup so they aren't bright white */
#admin-premium [class*="bg-white/"], #admin-premium [class*="border-white/"] {
  background: linear-gradient(180deg, rgba(255,255,255,0.02), rgba(255,255,255,0.01)) !important;
  border-color: rgba(167,139,250,0.06) !important;
  box-shadow: 0 10px 30px rgba(2,6,23,0.45) !important;
}

/* Summary cards (p-4) */
#admin-premium .p-4 {
  background: linear-gradient(180deg, rgba(255,255,255,0.02), rgba(255,255,255,0.01));
  border-radius: 1rem;
  border: 1px solid var(--card-border);
  padding: 1rem;
  backdrop-filter: blur(6px);
  transition: transform .2s ease, box-shadow .25s ease;
}
#admin-premium .p-4:hover {
  transform: translateY(-6px);
  box-shadow: 0 30px 80px rgba(9,12,24,0.6);
}
#admin-premium .text-2xl.font-bold {
  color: #fff;
  text-shadow: 0 8px 24px rgba(99,102,241,0.06);
}

/* Buttons — gradients and subtle animation */
#premium-export-users {
  background: linear-gradient(90deg, #f59e0b, #f97316); /* premium-gold */
  color: #08121a;
  font-weight: 800;
  padding: .58rem 1.05rem;
  border-radius: .8rem;
  box-shadow: 0 12px 40px rgba(245,158,11,0.12);
  transition: transform .18s ease, box-shadow .18s ease;
}
#premium-export-users:hover { transform: translateY(-4px); box-shadow: 0 18px 60px rgba(245,158,11,0.18); }

/* Export Events / Scan */
#premium-export-events, #premium-scan-all {
  background: linear-gradient(90deg, rgba(255,255,255,0.04), rgba(255,255,255,0.02));
  color: var(--muted);
  border: 1px solid rgba(255,255,255,0.04);
  padding: .5rem .9rem;
  border-radius: .8rem;
}
#premium-export-events:hover, #premium-scan-all:hover {
  background: linear-gradient(90deg, rgba(255,255,255,0.06), rgba(255,255,255,0.03));
}

/* Controls area (search, select, refresh) */
#admin-premium .bg-white\/5 {
  background: linear-gradient(180deg, rgba(255,255,255,0.02), rgba(255,255,255,0.01));
}
#pm-search {
  color: #e6f7ff;
  border: 1px solid rgba(255,255,255,0.06);
  padding: .75rem 1rem;
  border-radius: 999px;
}
#pm-search::placeholder { color: rgba(206,230,255,0.5); }
#pm-search:focus {
  box-shadow: 0 8px 30px rgba(96,165,250,0.08);
  border-color: rgba(96,165,250,0.45);
}

/* Select and refresh button */
#pm-time-filter {
  background: rgba(255,255,255,0.03);
  border: 1px solid rgba(255,255,255,0.06);
  color: var(--muted);
}
#pm-time-filter:focus {
  outline: none;
  box-shadow: 0 0 0 3px rgba(167,139,250,0.12);
  border-color: rgba(167,139,250,0.4);
}
#pm-refresh {
  background: linear-gradient(90deg, var(--accent-blue), var(--accent-purple));
  color: white;
  font-weight: 700;
  padding: .55rem 1rem;
  border-radius: .8rem;
  transition: transform .16s ease, box-shadow .16s ease;
}
#pm-refresh:hover { transform: translateY(-3px); box-shadow: 0 14px 40px rgba(99,102,241,0.12); }

/* Table styling */
#admin-premium table {
  color: #dbeeff;
  width: 100%;
  border-collapse: collapse;
}
#admin-premium thead tr th {
  color: #cfeaff;
  font-weight: 700;
  font-size: .85rem;
  padding: .8rem .6rem;
  border-bottom: 1px solid rgba(255,255,255,0.04);
  text-transform: uppercase;
  letter-spacing: .03em;
}
#admin-premium tbody tr td {
  padding: .85rem .6rem;
  vertical-align: middle;
  color: #dbeeff;
}
#admin-premium tbody tr:nth-child(odd) {
  background: linear-gradient(90deg, rgba(255,255,255,0.01), rgba(255,255,255,0.00));
}
#admin-premium tbody tr:hover {
  background: linear-gradient(90deg, rgba(96,165,250,0.03), rgba(167,139,250,0.02));
}

/* UID column mono + highlight */
#admin-premium tbody tr td:first-child {
  font-family: ui-monospace, "Roboto Mono", monospace;
  color: #a5f3fc;
  font-weight: 700;
}

/* Revenue highlight — animated sheen */
#pm-revenue {
  background: linear-gradient(90deg, rgba(245,158,11,0.06), rgba(245,158,11,0.02));
  padding: .35rem .6rem;
  border-radius: .6rem;
  display: inline-block;
  font-weight: 800;
  color: #fff;
  box-shadow: 0 10px 40px rgba(245,158,11,0.06);
  position: relative;
  overflow: hidden;
}
@keyframes premiumShine {
  0% { transform: translateX(-60%); opacity: 0.08;}
  50% { transform: translateX(40%); opacity: 0.18;}
  100% { transform: translateX(160%); opacity: 0.04;}
}
#pm-revenue::before{
  content: "";
  position: absolute;
  left: -40%;
  top: 0;
  width: 60%;
  height: 100%;
  background: linear-gradient(90deg, rgba(255,255,255,0.12), rgba(255,255,255,0.02));
  filter: blur(18px);
  animation: premiumShine 5.4s linear infinite;
}

/* Modal styling */
#pm-modal .relative {
  background: linear-gradient(180deg, rgba(7,18,40,0.96), rgba(6,22,40,0.98));
  border: 1px solid rgba(167,139,250,0.12);
  box-shadow: 0 30px 90px rgba(0,0,0,0.7);
  border-radius: 18px;
  overflow: hidden;
}
#pm-modal h3 { color: #fff; font-weight: 800; }
#pm-modal button { background: rgba(255,255,255,0.04); color: #e6f7ff; }

/* Make the realtime checkbox look like a modern switch (CSS-only) */
#admin-premium label[for], #admin-premium label {
  position: relative;
  display: inline-flex;
  align-items: center;
  gap: .6rem;
  padding: .4rem .9rem;
  border-radius: .9rem;
  background: linear-gradient(180deg, rgba(255,255,255,0.02), rgba(255,255,255,0.01));
  border: 1px solid rgba(255,255,255,0.04);
}
#admin-premium label input[type="checkbox"] {
  /* keep input accessible but invisible — we will render switch with pseudo elements on span */
  position: absolute;
  left: 10px;
  width: 44px;
  height: 24px;
  opacity: 0;
  z-index: 3;
  cursor: pointer;
}
#admin-premium label span {
  position: relative;
  display: inline-block;
  padding-left: 54px; /* room for switch */
  color: #cfeeff;
  font-weight: 600;
}
#admin-premium label span::before {
  content: "";
  position: absolute;
  left: 0;
  top: 50%;
  transform: translateY(-50%);
  width: 44px;
  height: 24px;
  border-radius: 999px;
  background: linear-gradient(90deg, rgba(255,255,255,0.03), rgba(255,255,255,0.01));
  box-shadow: inset 0 -4px 8px rgba(2,6,23,0.6);
  border: 1px solid rgba(255,255,255,0.04);
  transition: background .18s ease, box-shadow .18s ease, border-color .18s ease;
}
#admin-premium label span::after {
  content: "";
  position: absolute;
  left: 4px;
  top: 50%;
  transform: translateY(-50%);
  width: 16px;
  height: 16px;
  border-radius: 50%;
  background: #fff;
  box-shadow: 0 6px 18px rgba(6,12,24,0.6);
  transition: transform .18s ease, left .18s ease;
}
/* checked state */
#admin-premium label input[type="checkbox"]:checked + span::before {
  background: linear-gradient(90deg, var(--accent-blue), var(--accent-purple));
  border-color: rgba(167,139,250,0.6);
  box-shadow: 0 10px 30px rgba(167,139,250,0.12);
}
#admin-premium label input[type="checkbox"]:checked + span::after {
  transform: translateY(-50%) translateX(20px);
  background: #fff;
}

/* Slight responsive tweaks */
@media (max-width: 768px){
  #admin-premium .grid { grid-template-columns: repeat(2,1fr); }
  #admin-premium h1::after { height:3px; }
}

/* Accessibility: focus ring for keyboard users */
#admin-premium input:focus-visible, #admin-premium select:focus-visible, #admin-premium button:focus-visible {
  outline: 3px solid rgba(99,102,241,0.14);
  outline-offset: 3px;
}

/* Tiny polish for small texts and badges */
#admin-premium .text-sm { color: rgba(207,233,255,0.95); font-weight:600; }
</style>





      




      



      

                      <!-- ADMIN NOTIFICATION-->
      
      <div id="adminNotificationSender" class="hidden px-4 pt-6 pb-24 max-w-4xl mx-auto">
  <h2 class="text-2xl font-bold mb-4 text-blue-700">Admin Notifications</h2>
  
  <!-- Title -->
  <input type="text" id="notifTitle" placeholder="Title" class="w-full mb-3 p-2 border rounded" />
  
  <!-- Message -->
  <textarea id="notifMessage" placeholder="Message" class="w-full p-2 border rounded mb-3"></textarea>

  <!-- Actions -->
  <div class="grid grid-cols-1 md:grid-cols-2 gap-3 mb-6">
    <button onclick="sendDashboardNotification()" class="bg-green-500 hover:bg-green-600 text-white px-4 py-2 rounded w-full">Send to Dashboard Only</button>
    <button onclick="sendEmailNotification()" class="bg-blue-500 hover:bg-blue-600 text-white px-4 py-2 rounded w-full">Send Email Only</button>
  </div>

  <!-- Email Template Editor -->
  <h3 class="text-lg font-semibold mt-8 mb-2">Edit Email Template</h3>
  <textarea id="emailTemplateEditor" class="w-full h-96 p-3 border rounded font-mono text-sm" placeholder="Paste or edit your HTML template here..."></textarea>
  
  <div class="mt-3 flex gap-3">
    <button onclick="saveEmailTemplate()" class="bg-yellow-500 hover:bg-yellow-600 text-white px-4 py-2 rounded">Save Template</button>
    <button onclick="resetDefaultTemplate()" class="bg-gray-400 hover:bg-gray-500 text-white px-4 py-2 rounded">Reset to Default</button>
  </div>
</div>








<!-- Admin Check-In Dashboard -->



<!-- Admin Check-In Dashboard -->  <div id="admin-checkin-screen"    class="tab-section hidden min-h-screen p-6 bg-gradient-to-br from-[#071024] via-[#071f2e] to-[#071024] text-white">    <!-- Header -->    <div class="flex items-center justify-between mb-6">      <div>          <h1 class="text-3xl font-extrabold bg-gradient-to-r from-blue-400 to-purple-500 text-transparent bg-clip-text">        
    Check-In Admin Console        
  </h1>        
  <p class="text-sm text-slate-300 mt-1">Live visibility into user check-ins & rewards.</p>        
</div>  <div class="flex items-center space-x-3">  <button id="admin-export-csv"        
class="px-4 py-2 rounded-2xl bg-gradient-to-r from-emerald-500 to-green-600 text-black font-semibold shadow-md hover:scale-105 transition">  
Export CSV  
</button>    <label class="flex items-center space-x-2 text-sm select-none">        
    <input id="admin-realtime-toggle" type="checkbox" class="w-4 h-4" />        
    <span class="text-slate-300">Realtime</span>        
  </label>    <button id="admin-scan-all"        
title="Scan all cycles (may be heavy if many docs)"        
class="px-3 py-2 rounded-2xl bg-white/6 text-sm hover:bg-white/10 transition">    
Recalculate totals (scan all)    
</button>  </div>    </div>    <!-- Summary cards -->    <div id="admin-summary" class="grid grid-cols-1 sm:grid-cols-2 md:grid-cols-4 gap-4 mb-6">        
    <div class="p-4 rounded-2xl bg-white/5 shadow-sm">        
      <div class="text-sm text-slate-300">Total users</div>        
      <div id="sum-total-users" class="text-2xl font-bold mt-1">—</div>        
    </div>        
    <div class="p-4 rounded-2xl bg-white/5 shadow-sm">        
      <div class="text-sm text-slate-300">Users checked today</div>        
      <div id="sum-checked-today" class="text-2xl font-bold mt-1">—</div>        
    </div>        
    <div class="p-4 rounded-2xl bg-white/5 shadow-sm">        
      <div class="text-sm text-slate-300">Total checkins (all-time)</div>        
      <div id="sum-total-checkins" class="text-2xl font-bold mt-1">—</div>        
    </div>        
    <div class="p-4 rounded-2xl bg-white/5 shadow-sm">        
      <div class="text-sm text-slate-300">Total rewards given (₦)</div>        
      <div id="sum-total-rewards" class="text-2xl font-bold mt-1">—</div>        
    </div>        
  </div>    <!-- Controls -->    <div class="flex flex-col md:flex-row items-start md:items-center justify-between gap-3 mb-4">        
    <div class="flex items-center gap-2 w-full md:w-1/2">        
      <input id="admin-search" type="search" placeholder="Search name, email or uid"        
             class="w-full p-3 rounded-xl bg-white/5 placeholder:text-slate-400 focus:outline-none" />        
    </div>  <div class="flex items-center gap-2">        
  <select id="admin-view-select" class="p-2 rounded-xl bg-white/5">        
    <option value="all">All users</option>        
    <option value="today">Checked today</option>        
    <option value="completed">Completed cycles</option>        
  </select>      <input id="admin-from" type="date" class="p-2 rounded-xl bg-white/5" />        
  <input id="admin-to" type="date" class="p-2 rounded-xl bg-white/5" />    <button id="admin-filter-btn" class="px-4 py-2 rounded-2xl bg-gradient-to-r from-blue-500 to-purple-600 shadow-md">Filter</button>  </div>    </div>    <!-- Users table -->    <div class="overflow-auto bg-white/5 rounded-xl p-4">        
    <table class="min-w-full text-sm">        
      <thead>        
        <tr class="text-slate-300 text-left">        
          <th class="px-3 py-2">UID</th>        
          <th class="px-3 py-2">Name / Email</th>        
          <th class="px-3 py-2">Today</th>        
          <th class="px-3 py-2">Total checkins</th>        
          <th class="px-3 py-2">Completed cycles</th>        
          <th class="px-3 py-2">Rewards (₦)</th>        
          <th class="px-3 py-2">Last check-in</th>        
          <th class="px-3 py-2">Actions</th>        
        </tr>        
      </thead>        
      <tbody id="admin-table-body" class="divide-y divide-white/6"></tbody>        
    </table>        
  </div>        
</div>  <!-- User details modal -->  <div id="admin-user-modal" class="fixed inset-0 z-50 hidden items-center justify-center">        
  <div class="absolute inset-0 bg-black/60" onclick="document.getElementById('admin-user-modal').classList.add('hidden')"></div>        
  <div class="relative max-w-3xl w-full bg-[#071228] rounded-2xl p-6 z-10 text-white shadow-xl">        
    <div class="flex items-center justify-between mb-4">        
      <h3 id="modal-uid" class="font-bold">User</h3>        
      <button onclick="document.getElementById('admin-user-modal').classList.add('hidden')" class="px-3 py-1 rounded-lg bg-white/6">Close</button>        
    </div>        
    <div id="modal-content" class="space-y-3 max-h-[60vh] overflow-auto"></div>        
  </div>        
</div>  





<!-- Paste at end of your CSS or inside a <style> before </body> -->
<style>
/* Admin Check-In: colorful, flashy theme overrides
   No JS changes. Add this after Tailwind CSS so it overrides utility colors.
*/

:root{
  --accent-blue: #60a5fa;
  --accent-purple: #a78bfa;
  --accent-green: #34d399;
  --muted: #e6f7ff;
  --glass: rgba(255,255,255,0.04);
  --card-border: rgba(167,139,250,0.12);
}

/* Base screen tweaks */
#admin-checkin-screen{
  color: var(--muted);
  background: linear-gradient(135deg, #051226 0%, #071f2e 45%, #04233a 100%);
}

/* Replace pale gray texts inside the admin screen */
#admin-checkin-screen [class*="text-slate-300"],
#admin-checkin-screen .text-slate-300 {
  color: #bfe6ff !important;
}

/* Make descriptions brighter */
#admin-checkin-screen p, #admin-checkin-screen label, #admin-checkin-screen small {
  color: #cdefff;
}

/* Summary cards - glassy with soft gradient accent */
#admin-summary > div {
  background: linear-gradient(180deg, rgba(255,255,255,0.03), rgba(255,255,255,0.02));
  border: 1px solid var(--card-border);
  padding: 1rem;
  border-radius: 1rem;
  backdrop-filter: blur(6px);
  position: relative;
  overflow: hidden;
  transition: transform .22s ease, box-shadow .22s ease;
}
#admin-summary > div:hover {
  transform: translateY(-6px);
  box-shadow: 0 20px 50px rgba(7,18,40,0.6);
}
#admin-summary > div::before{
  content: "";
  position: absolute;
  left: -40%;
  top: -30%;
  width: 180%;
  height: 160%;
  background: linear-gradient(90deg,var(--accent-blue),var(--accent-purple),var(--accent-green));
  opacity: 0.06;
  transform: rotate(12deg);
  pointer-events: none;
}
#admin-summary .text-2xl, #admin-summary .font-bold {
  color: white;
  text-shadow: 0 6px 16px rgba(106,90,225,0.08);
}

/* Buttons - punchy and lively */
#admin-export-csv, #admin-scan-all, #admin-filter-btn {
  border: none;
  font-weight: 700;
  transition: transform .16s ease, box-shadow .16s ease;
  border-radius: 12px;
}
#admin-export-csv {
  background: linear-gradient(90deg,var(--accent-green), #16a34a);
  color: #00210a;
  padding: .6rem 1rem;
}
#admin-export-csv:hover { transform: translateY(-3px); box-shadow: 0 10px 30px rgba(16,185,129,0.15); }

#admin-filter-btn {
  background: linear-gradient(90deg,var(--accent-blue), var(--accent-purple));
  color: white;
  padding: .6rem 1rem;
}
#admin-filter-btn:hover { transform: translateY(-3px); box-shadow: 0 10px 30px rgba(96,165,250,0.15); }

#admin-scan-all {
  background: linear-gradient(90deg, rgba(255,255,255,0.06), rgba(255,255,255,0.03));
  color: #dbeafe;
  padding: .45rem .9rem;
}

/* Inputs & selects - neon outlines on focus */
#admin-checkin-screen input[type="search"],
#admin-checkin-screen input[type="date"],
#admin-checkin-screen select {
  background: rgba(255,255,255,0.03);
  color: #e6f7ff;
  border: 1px solid rgba(255,255,255,0.06);
  padding: .75rem .9rem;
  border-radius: 12px;
}
#admin-checkin-screen input::placeholder { color: rgba(206,230,255,0.5); }
#admin-checkin-screen input:focus, #admin-checkin-screen select:focus {
  outline: none;
  box-shadow: 0 6px 30px rgba(96,165,250,0.12);
  border-color: rgba(96,165,250,0.6);
}

/* Table styling */
#admin-checkin-screen table {
  color: #dbeeff;
  width: 100%;
  border-collapse: collapse;
}
#admin-checkin-screen thead tr th {
  color: #dbeeff;
  font-weight: 600;
  letter-spacing: .01em;
  border-bottom: 1px solid rgba(255,255,255,0.03);
  padding: .8rem .6rem;
}
#admin-checkin-screen tbody tr td {
  padding: .85rem .6rem;
  vertical-align: middle;
}

/* Row stripes (subtle) */
#admin-checkin-screen tbody tr:nth-child(odd) {
  background: linear-gradient(90deg, rgba(9,17,30,0.02), rgba(9,17,30,0.03));
}
#admin-checkin-screen tbody tr:hover {
  background: linear-gradient(90deg, rgba(96,165,250,0.03), rgba(167,139,250,0.02));
}

/* UID column - highlight */
#admin-checkin-screen tbody tr td:first-child {
  font-family: ui-monospace, SFMono-Regular, Menlo, Monaco, "Roboto Mono", monospace;
  color: #a5f3fc;
  font-weight: 600;
}

/* Action buttons in table - add class 'actions-btn' to your action elements (optional) */
#admin-checkin-screen .actions-btn {
  background: linear-gradient(90deg,#60a5fa,#a78bfa);
  color: white;
  padding: .4rem .6rem;
  border-radius: .6rem;
  font-weight: 700;
  font-size: .85rem;
  border: none;
}

/* Modal styling */
#admin-user-modal .relative {
  background: linear-gradient(180deg, rgba(7,18,40,0.9), rgba(6,22,40,0.95));
  border: 1px solid rgba(120,91,255,0.12);
  box-shadow: 0 30px 90px rgba(6,12,24,0.7);
}
#admin-user-modal .absolute {
  background: rgba(2,6,23,0.75) !important;
}
#admin-user-modal button {
  color: #e6f7ff;
  background: rgba(255,255,255,0.03);
  border-radius: 8px;
  padding: .4rem .7rem;
}

/* Make sure small text is readable */
#admin-checkin-screen .text-sm { color: rgba(207,233,255,0.95); }

/* Override Tailwind-ish bg-white utilities if present */
[class*="bg-white/5"], [class*="bg-white/6"] {
  background: linear-gradient(180deg, rgba(255,255,255,0.03), rgba(255,255,255,0.015)) !important;
  border: 1px solid rgba(255,255,255,0.03) !important;
  box-shadow: 0 8px 30px rgba(2,6,23,0.4) !important;
}

/* Flashy underline for the H1 */
#admin-checkin-screen h1 {
  position: relative;
  display: inline-block;
  -webkit-background-clip: text;
  background-clip: text;
}
#admin-checkin-screen h1::after {
  content: "";
  height: 4px;
  width: 100%;
  display: block;
  margin-top: .6rem;
  background: linear-gradient(90deg,var(--accent-blue),var(--accent-purple),var(--accent-green));
  border-radius: 8px;
  opacity: 0.95;
  transform-origin: left;
  transition: transform .4s ease;
}
#admin-checkin-screen h1:hover::after {
  transform: scaleX(1.02);
}

/* Animated sweep on export button for life */
@keyframes sweep {
  0% { background-position: 0% 50%; }
  100% { background-position: 100% 50%; }
}
#admin-export-csv { background-size: 200% 200%; animation: sweep 6s linear infinite; }

/* Slight responsive adjustments */
@media (max-width: 768px) {
  #admin-summary { grid-template-columns: repeat(2,1fr); }
  #admin-checkin-screen .flex.items-center.space-x-3 { gap: .5rem; }
}
</style>




      


      

    </main>
  </div>

  <script>
    lucide.createIcons();
  </script>
  <script src="admin.js"></script>
</body>

</html>




























